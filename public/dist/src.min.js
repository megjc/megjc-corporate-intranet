!function(){function t(t,e){t.otherwise({redirectTo:"/login"})}function e(t,e,n){t.$on("$routeChangeStart",function(t,r,a){null!=r.access&&r.access.restricted&&!n.isAuthenticated()&&e.path("/login")})}e.$inject=["$rootScope","$location","loginService"],t.$inject=["$routeProvider","$httpProvider"],angular.module("intranet",["ngRoute","ngCookies","intranet.apps.mail","intranet.auth","intranet.home","intranet.dashboard","help","shared-services","promotion","trans","nav"]).run(e).config(t).constant("API_URLS",{base_url:"/api/v1/"}).constant("CONSTANTS",{URL:"/api/v1/"})}(),function(){"use strict";function t(t){t.when("/dashboard/apps",{templateUrl:"public/app/templates/dashboard/dashboard.html",controller:"Dashboard as vm",resolve:{apps:["dashboardService",function(t){return t.getApps()}]},access:{restricted:!0}}).otherwise({redirectTo:"/"})}t.$inject=["$routeProvider"],angular.module("intranet.dashboard",[]).config(t)}(),function(){function t(t){t.when("/directory",{controller:"Directory",controllerAs:"vm",templateUrl:"public/app/templates/directory/directory.html"})}t.$inject=["$routeProvider"],angular.module("intranet.directory",[]).config(t)}(),function(){"use strict";function t(){return function(t){return new Date(t)}}function e(){return function(t){var e=t/1048576;return e.toFixed(2)}}function n(t){return function(e){return t.trustAsHtml(e)}}function r(){return function(t){var e=/&(nbsp|amp|quot|lt|gt);/g,n={nbsp:" ",amp:"&",quot:'"',lt:"<",gt:">"};return t.replace(e,function(t,e){return n[e]})}}n.$inject=["$sce"],angular.module("intranet").filter("sanitize",n).filter("removeEntities",r).filter("timestamp",t).filter("toMB",e)}(),function(){"use strict";function t(t){t.when("/help-desk",{templateUrl:"public/app/modules/help-desk/tpl/help.html",controllerAs:"HelpDesk as vm",access:{restricted:!1}})}t.$inject=["$routeProvider"],angular.module("help",[]).config(t)}(),function(){function t(t){t.when("/",{controllerAs:"Home as vm",templateUrl:"public/app/templates/home/home.html",access:{restricted:!1}}).when("/vacancies",{controllerAs:"Home as vm",templateUrl:"public/app/templates/home/vacancy.html",access:{restricted:!1}}).when("/vacancies/slug",{controllerAs:"Home as vm",templateUrl:"public/app/templates/home/vacancy-item.html",access:{restricted:!1}}).when("/directory",{controllerAs:"Home as vm",templateUrl:"public/app/templates/home/home.html",access:{restricted:!1}}).when("/forms",{controllerAs:"Home as vm",templateUrl:"public/app/templates/home/form-list.html",access:{restricted:!1}}).when("/policies",{controllerAs:"Home as vm",templateUrl:"public/app/templates/home/policy-list.html",access:{restricted:!1}}).when("/news/:slug",{controllerAs:"Home as vm",templateUrl:"public/app/templates/news/news.html",access:{restricted:!1}})}t.$inject=["$routeProvider"],angular.module("intranet.home",[]).config(t)}(),function(){function t(t){t.when("/login",{controller:"Login",controllerAs:"vm",templateUrl:"public/app/templates/login/login.html",access:{restricted:!1}})}t.$inject=["$routeProvider"],angular.module("intranet.auth",[]).config(t)}(),function(){"use strict";angular.module("nav",[])}(),function(){function t(t){t.when("/dashboard/apps/mails/incoming",{templateUrl:"public/app/modules/mail/tpl/mail.incoming.html",controller:"Incoming",resolve:{mails:["mailService",function(t){return t.getMailsByDepartmentId()}]},access:{restricted:!0}}).when("/dashboard/apps/mails/create",{templateUrl:"public/app/modules/mail/tpl/create.html",controller:"Mail",access:{restricted:!0}}).when("/dashboard/apps/mails/:id/view",{templateUrl:"public/app/modules/mail/tpl/mail.view.html",controller:"View as vm",access:{restricted:!0}}).when("/dashboard/apps/mails/follow_ups",{templateUrl:"public/app/modules/mail/tpl/mail.followup.html",controller:"Mail",access:{restricted:!0}}).when("/dashboard/apps/mails/search",{templateUrl:"public/app/modules/mail/tpl/mail.search.html",controller:"Search",controllerAs:"vm",access:{restricted:!0}})}t.$inject=["$routeProvider"],angular.module("intranet.apps.mail",["ngFileUpload","ngMessages"]).config(t)}(),function(){function t(t){t.when("/events",{controller:"Promotion",controllerAs:"vm",templateUrl:"public/app/modules/promotion/promotion.html"})}t.$inject=["$routeProvider"],angular.module("promotion",[]).config(t)}(),function(){"use strict";function t(t){t.when("/dashboard/apps/truck-allo",{templateUrl:"public/app/modules/truck-allo/tpl/truck-allo.tpl.html",controller:"Trans as vm",access:{restricted:!0}}).when("/dashboard/apps/truck-allo/transactions/councils/:id",{templateUrl:"public/app/modules/truck-allo/tpl/transactions.html",controller:"Trans as vm",access:{restricted:!0}}).when("/dashboard/apps/truck-allo/transactions/create",{templateUrl:"public/app/modules/truck-allo/tpl/create.tpl.html",controller:"Trans as vm",access:{restricted:!0}}).when("/dashboard/apps/truck-allo/transactions/:id/view",{templateUrl:"public/app/modules/truck-allo/tpl/transaction.html",controller:"Trans as vm",access:{restricted:!0}}).when("/dashboard/apps/truck-allo/transactions/:id/edit",{templateUrl:"public/app/modules/truck-allo/tpl/transaction-edit.html",controller:"Trans as vm",access:{restricted:!0}}).otherwise({redirectTo:"/dashboard/apps/truck-allo"})}t.$inject=["$routeProvider"],angular.module("trans",[]).config(t)}(),function(){function t(t){t.when("/vacancies",{controller:"Vacancy",controllerAs:"vm",templateUrl:"public/app/modules/vacancy/vacancy-list.html",access:{restricted:!1}}).when("/vacancies/:slug",{controller:"Vacancy",controllerAs:"vm",templateUrl:"public/app/modules/vacancy/vacancy.html",access:{restricted:!1}})}t.$inject=["$routeProvider"],angular.module("vacancy",[]).config(t)}(),function(){"use strict";function t(t,e,n,r){function a(){c.apps=r;var t=JSON.parse(localStorage.getItem("user"));c.username=t.uname}function o(){e.logout(),t.path("/login")}var c=this;c.logout=o,a()}angular.module("intranet.dashboard").controller("Dashboard",t),t.$inject=["$location","loginService","dashboardService","apps"]}(),function(){"use strict";function t(t,e,n){function r(){n.getEmployees().then(function(t){c.employees=t.data})}function a(t){n.getEmployeesByDepartment(t).then(function(t){c.employees=t})["catch"](function(t){c.employees=[]})}function o(){c.query&&c.query.length>2?n.search(c.query).then(function(t){c.employees=t})["catch"](function(t){c.employees=a(5)}):c.employees=a(5)}var c=this;c.search=o,c.getEmployees=a,r()}angular.module("intranet.directory").controller("Directory",t),t.$inject=["$http","$routeParams","directoryService"]}(),function(){"use strict";function t(t,e,n){function r(){console.log("Help desk")}r()}angular.module("help").controller("HelpDesk",t),t.$inject=["$scope","$http","helpDeskService"]}(),function(){"use strict";function t(t,e,n,r,a,o){function c(t){e.path("#!/"+t)}var i=this;i.goTo=c,i.getBlogs=getBlogs,i.getStaffFocus=getStaffFocus}angular.module("intranet.home").controller("Home",t),t.$inject=["$http","$location","$window","$routeParams","homeService","sharedServices"]}(),function(){function t(t,e,n){function r(e){n.checkCredentials(e)?n.authUser(e).then(function(e){e.success?n.getDepartment(e.dn).then(function(r){n.getUser(e.dn,r.id).then(function(e){e.success&&(o.user={},n.setUser(e.user),t.path("/dashboard/apps"))})["catch"](function(t){console.log("Error in getting user")})})["catch"](function(t){console.log("Error in getting department")}):(o.message=!0,o.user.password="")})["catch"](function(t){console.log(t)}):(o.message=!0,o.user.password="")}function a(){n.isAuthenticated()&&t.path("/dashboard/apps")}var o=this;o.handleForm=r,o.message=!1,o.user={name:"",password:""},a()}angular.module("intranet.auth").controller("Login",t),t.$inject=["$location","$scope","loginService"]}(),function(){"use strict";function t(t,e,n,r,a){function o(){i(),l(),u()}function c(t,e){o()}function i(){n.getMailsByDepartmentId().then(function(t){f.mails_count=t.length})["catch"](function(){f.mails_count=[]})}function l(){n.getMailsForFollowup().then(function(t){f.followup_count=t.count})["catch"](function(){f.followup_count=[]})}function s(){r.logout(),e.path("/login")}function u(){var t=JSON.parse(localStorage.getItem("user"));f.username=t.uname}function p(t){a.track(t)}var f=this;f.logout=s,f.track=p,o(),t.$on("mailCreated",c)}angular.module("nav").controller("Nav",t),t.$inject=["$scope","$location","mailService","loginService","sharedServices"]}(),function(){"use strict";function t(t,e,n,r){function a(){t.mails=n.length>0?n:[]}function o(t){console.log(t)}function c(t){e.path("/dashboard/apps/mails/"+t+"/view")}t.flag=o,t.showMail=c,a()}angular.module("intranet.apps.mail").controller("Incoming",t),t.$inject=["$scope","$location","mails","mailService"]}(),function(){function t(t,e,n,r,a,o,c,i){function l(){n.file=[],n.mail=angular.copy(A),n.mailForm.$setPristine(),n.mailForm.$setValidity(),n.mailForm.$setUntouched()}function s(){f(),n.mail=a.initMail(),m()}function u(){if(2==n.mail.follow_up){var t=new Date;t.setDate(t.getDate()+7),n.mail.follow_up_date=t,n.showFollowup=!0}else n.showFollowup=!1}function p(t){a.getMail(t).then(function(r){n.mail_corr=r.mail,n.actions=r.actions,e.path("/dashboard/apps/mails/"+t+"/view")})["catch"](function(t){n.mail_corr={}})}function f(){a.getMailsByDepartmentId().then(function(t){n.mails=t})["catch"](function(t){n.mails=[]})}function m(){var t=o.getDepartmentId();a.getMailsForFollowup(t).then(function(t){n.follow_ups=t.mails})["catch"](function(t){n.mails=[]})}function d(t){e.path("/"+t)}function h(){a.createMail(n.mail).then(function(t){500===t.status&&(n.message=!0,n.text="An error has occurred on the server",n.error=!0),400===t.status&&(n.message=!0,n.text="Please review the form for errors",n.error=!0),200==t.status&&(n.text="Mail correspondence created successfully",n.message=!0,n.success=!0,l(),n.mail=a.initMail(),n.$broadcast("mailCreated"),g("top"))})["catch"](function(t){console.log("Error in creating mail")})}function g(t){e.hash(t),r()}function v(){n.file=[]}function _(t){switch(t){case"other":n.showOther=!0,n.showFile=!1;break;case"file":n.showFile=!0,n.showOther=!1;break;default:n.showOther=!1,n.showFile=!1}}function w(){n.revealAction=!n.revealAction}function b(){n.revealAction=!1,n.description=""}function $(t){var e={mail_id:n.mail_corr.id,uid:o.getUserId(),description:n.description};a.createAction(e).then(function(t){b(),y(n.mail_corr.id)})["catch"](function(t){})}function y(t){a.getActions(t).then(function(t){n.actions=t})["catch"](function(t){n.actions=[]})}function S(){o.logout(),e.path("/login")}function U(){a.updateMail(n.mail_corr).then(function(t){n.message=!0,p(n.mail_corr.id)})["catch"](function(t){console.log("Error in updating mail")})}n.message=n.success=!1,n.error=!1,n.text="",n.showOther=!1,n.file_upload_msg=!1,n.revealAction=!1,n.showFollowup=!1;var A=angular.copy(n.mail);n.showMail=p,n.goTo=d,n.createMail=h,n.removeFile=v,n.clearForm=l,n.createMail=h,n.toggle=_,n.createAction=$,n.revealActionForm=w,n.cancel=b,n.file=[],n.logout=S,n.update=U,n.toggleFollowup=u,s()}angular.module("intranet.apps.mail").controller("Mail",t),t.$inject=["$routeParams","$location","$scope","$anchorScroll","mailService","loginService","API_URLS","Upload"]}(),function(){"use strict";function t(t,e,n,r){function a(t){if(t.length>2){var n="/intranet/api/v1/search/"+e.getDepartmentId()+"/";r.get(n+t).then(function(t){c.results=t.data})}else c.results=[]}function o(t){n.path("/dashboard/apps/mails/"+t+"/view")}var c=this;c.query=a,c.showMail=o,c.results=[]}angular.module("intranet.apps.mail").controller("Search",t),t.$inject=["mailService","loginService","$location","$http"]}(),function(){"use strict";function t(t,e,n,r){function a(){n.getMail(e.id).then(function(t){v.mail_corr=t.mail,v.actions=t.actions,v.follow_up_date=new Date(v.mail_corr.follow_date),v.mail_corr.receipt_date=new Date(v.mail_corr.receipt_date),v.mail_corr.mail_date=new Date(v.mail_corr.mail_date),v.fileTitle="none"!=v.mail_corr.file_title})["catch"](function(){v.mail_corr=[]})}function o(t){n.getActions(t).then(function(t){v.actions=t})["catch"](function(t){v.actions=[]})}function c(){v.revealAction=!v.revealAction}function i(){v.revealFollowup=!v.revealFollowup,v.description=""}function l(){v.revealAction=!1,v.description=""}function s(){v.showFollowupDate=!v.showFollowupDate}function u(t){switch(t){case"subject":v.panels.subject=!v.panels.subject,v.ctrls.subject=!v.ctrls.subject;break;case"receipt_date":v.panels.receipt_date=!v.panels.receipt_date,v.ctrls.receipt_date=!v.ctrls.receipt_date;break;case"mail_date":v.panels.mail_date=!v.panels.mail_date,v.ctrls.mail_date=!v.ctrls.mail_date;break;case"sender":v.panels.sender=!v.panels.sender,v.ctrls.sender=!v.ctrls.sender;break;case"receipent":v.panels.receipent=!v.panels.receipent,v.ctrls.receipent=!v.ctrls.receipent;break;case"from_org":v.panels.from_org=!v.panels.from_org,v.ctrls.from_org=!v.ctrls.from_org;case"file_title":v.panels.file_title=!v.panels.file_title,v.ctrls.file_title=!v.ctrls.file_title;break;default:v.ctrls=n.initFormCtrls(),v.panels=n.initPanels()}}function p(){var t={mail_id:v.mail_corr.id,uid:r.getUserId(),description:v.description};n.createAction(t).then(function(t){l(),o(v.mail_corr.id)})["catch"](function(t){})}function f(){if(""!=v.followup_desc&&null!=v.followup_desc){var e={mail_id:v.mail_corr.id,uid:r.getUserId(),description:v.followup_desc,follow_up:1,closeFollowup:1};n.createAction(e).then(function(e){t.$broadcast("mailCreated"),i(),a()})["catch"](function(t){})}}function m(t,e){null!=e&&""!=e&&n.update(t,e,v.mail_corr.id).then(function(e){v.updateSuccess=!0,v.notification="Mail correspondence successfully updated",u(t),o(v.mail_corr.id)})["catch"](function(t){})}function d(){v.new_follow_date=n.customDate(7),v.showForm=!v.showForm}function h(t,e){null!=e&&""!=e&&n.update(t,e,v.mail_corr.id).then(function(t){n.update("follow_up",2,v.mail_corr.id).then(function(t){v.showForm=!1,a()})["catch"](function(t){console.log("Error in updating follow up date")})})["catch"](function(t){console.log("Error in updating follow up date")})}function g(){v.showForm=!v.showForm}var v=this;v.revealAction=v.revealFollowup=v.showFollowupDate=!1,v.revealActionForm=c,v.cancelFollowup=g,v.save=h,v.cancel=l,v.createAction=p,v.revealFollowupForm=i,v.revealFollowupDate=s,v.closeFollowup=f,v.toggleEditCtrl=u,v.ctrls=n.initFormCtrls(),v.panels=n.initPanels(),v.update=m,v.show=d,v.showForm=!1,a()}angular.module("intranet.apps.mail").controller("View",t),t.$inject=["$scope","$routeParams","mailService","loginService"]}(),function(){function t(t){function e(){t.getPostsByCategory("promos").then(function(t){n.promo=t})["catch"](function(t){n.promo=[]})}var n=this;e()}angular.module("promotion").controller("Promotion",t),t.$inject=["sharedServices"]}(),function(){"use strict";function t(t,e,n){function r(){angular.isDefined(e.id)?(o(e.id),l(e.id)):i()}function a(e){t.path(e)}function o(e){t.path("/dashboard/apps/truck-allo/transactions/councils/"+e)}function c(){n.updateTransaction(u.transaction.particular,u.transaction.id).then(function(t){u.message.show=u.message.success=!0,u.message.text="Transaction updated successfully"})["catch"](function(){console.log("Error")})}function i(){n.getBalances().then(function(t){u.balances=t})["catch"](function(t){u.balances=[]})}function l(t){n.getTransactionsByCouncilId(t).then(function(t){u.transactions=t})["catch"](function(t){u.transactions=[]})}function s(){n.createTransaction(u.trans).then(function(t){u.message.show=u.message.success=!0,u.message.text="Transaction created successfully"})["catch"](function(t){console.log("Error")})}var u=this;u.goTo=a,u.loading=!0,u.show=o,u.update=c,u.create=s,u.message={show:!1,message:""},r()}angular.module("trans").controller("Trans",t),t.$inject=["$location","$routeParams","transService"]}(),function(){function t(t,e){function n(t){e.goTo(t)}function r(){e.getPostsByCategory("vacancies").then(function(t){a.vacancies=t})["catch"](function(t){a.vacancies=[]})}var a=this;a.goTo=n,r(),e.getPostBySlug(t.slug).then(function(t){a.vacancy=t})}angular.module("vacancy").controller("Vacancy",t),t.$inject=["$routeParams","sharedServices"]}(),function(){"use strict";function t(t,e){function n(){var n=JSON.parse(localStorage.getItem("user"));return t.get(e.URL+"apps/"+n.id).then(r)["catch"](a)}function r(t){return t.data}function a(t){return t}var o={getApps:n};return o}angular.module("intranet.dashboard").service("dashboardService",t),t.$inject=["$http","CONSTANTS"]}(),function(){"use strict";function t(t){function e(){function e(t){return t.data}function n(t){return t}var r="/api/v1/departments";return t.get(r).then(e)["catch"](n)}function n(e){function n(t){return t.data}function r(t){return t}var a="/intranet/api/v1/departments/"+e+"/employees";return t.get(a).then(n)["catch"](r)}function r(e){function n(t){return t.data}function r(t){return t}var a="/intranet/api/v1/employees/search?q="+e;return t.get(a).then(n)["catch"](r)}function a(){var e="/api/v1/employees";return t.get(e)}var o={getDepartments:e,getEmployeesByDepartment:n,getEmployees:a,search:r};return o}angular.module("intranet.directory").factory("directoryService",t),t.$inject=["$http"]}(),function(){function t(t){function e(e){function n(t){return t.data}function r(t){return t}return t.post("/api/v1/tickets",e).then(n)["catch"](r)}function n(e){function n(t){return t.data}function r(t){return t}return t.get("/api/v1/tickets/"+e.fname+"/"+e.lname).then(n)["catch"](r)}function r(e){function n(t){return t.data}function r(t){return t}return t.get("/api/v1/tickets/"+e.fname+"/"+e.lname+"/closed").then(n)["catch"](r)}function a(){function e(t){return t.data}function n(t){return t}return t.get("/api/v1/admin/tickets/types").then(e)["catch"](n)}var o={createTicket:e,getTickets:n,getClosedTickets:r,getCategories:a};return o}angular.module("help").factory("helpDeskService",t),t.$inject=["$http"]}(),function(){function t(t){function e(){function e(t){return t.data.posts}function n(t){return t}return t.get(o+"/get_category_posts?slug=vacancies").then(e)["catch"](n)}function n(e){function n(t){return t.data.post}function r(t){return t}return t.get(o+"/get_post/?slug="+e).then(n)["catch"](r)}function r(e){function n(t){return t.data.posts}function r(t){return t}return t.get(o+"/get_category_posts?slug="+e).then(n)["catch"](r)}function a(){function e(t){return t.data.items}function n(t){return t}return t.get("http://rss2json.com/api.json?rss_url=http://jamaica-gleaner.com/feed/rss.xml").then(e)["catch"](n)}var o="/wordpress/api",c={getVacancies:e,getVacancyBySlug:n,getPostsByCategory:r,getRSSFeed:a};return c}angular.module("intranet.home").factory("homeService",t),t.$inject=["$http"]}(),function(){"use strict";function t(t){function e(){var e="http://rss2json.com/api.json?rss_url=",n="http://www.jamaicaobserver.com/rss/news/",r=e+encodeURI(n);t.get(r).then(function(t){console.log(t.data.items.slice(0,3)),$scope.news=t.data.items.slice(0,3)})}var n={getRss:e};return n}t.$inject=["$http"],angular.module("intranet").factory("rssService",t),t.inject=["$http"]}(),function(){function t(t,e,n){function r(e){function r(t){return t.data}function a(t){return t}return t.post(n.base_url+"auth",e).then(r)["catch"](a)}function a(t){return(""!==t.name||""!==t.password)&&(""!==t.name&&""!==t.password)}function o(e){function r(t){return t.data}function a(t){return t}return t.post(n.base_url+"departments",{dn:e}).then(r)["catch"](a)}function c(){var t=JSON.parse(localStorage.getItem("user"));return null!=t&&("object"==typeof t||void 0)}function i(t){localStorage.setItem("user",JSON.stringify(t))}function l(){return JSON.parse(localStorage.getItem("user"))}function s(){var t=JSON.parse(localStorage.getItem("user"));return t.id}function u(){var t=JSON.parse(localStorage.getItem("user"));return t.dept_id}function p(){localStorage.removeItem("user"),e.path("/login")}function f(){var t=JSON.parse(localStorage.getItem("user"));return t.uname}function l(e,r){function a(t){return t.data}function o(t){return t}return t.post(n.base_url+"users",{dn:e,dept_id:r}).then(a)["catch"](o)}var m={authUser:r,checkCredentials:a,isAuthenticated:c,getDepartmentId:u,getDepartment:o,getUserId:s,getUser:l,getUserName:f,logout:p,setUser:i};return m}angular.module("intranet.auth").service("loginService",t),t.$inject=["$http","$location","API_URLS"]}(),function(){function t(t,e,n,r){function a(t,n){var a=e.base_url+"upload/"+n;return r.upload({url:a,file:t}).then(function(t){return t})}function o(){return{subject:!1,file_title:!1,receipt_date:!1,mail_date:!1,sender:!1,from_org:!1,receipent:!1}}function c(){return{subject:!0,receipt_date:!0,mail_date:!0,sender:!0,from_org:!0,receipent:!0,file_title:!0}}function i(){function r(t){return t.data}function a(t){return t}var o=n.getDepartmentId(),c=e.base_url+"mails/departments/"+o+"?follow_up=2";return t.get(c).then(r)["catch"](a)}function l(r){function a(t){return t}function o(t){return t}""!==r.file_title&&null!=r.file_title||(r.file_title="none"),"other"===r.mail_type&&(r.mail_type=r.other_type),"cabinet_sub"===r.mail_type&&(r.mail_type="cabinet sub"),null==r.follow_up_date&&(r.follow_up_date=new Date(0)),r.created_by=n.getUserId(),r.dept_id=n.getDepartmentId();var c=e.base_url+"mails";return t.post(c,r).then(a)["catch"](o)}function s(t){var e=new Date;return e.setDate(e.getDate()+t),e}function u(){return{mail_type:"letter",sender:"",receipent:"",from_org:"",subject:"",receipt_date:new Date,file_title:"",follow_up:"1"}}function p(n){function r(t){return t.data}function a(t){return t}var o=e.base_url+"mails/"+n;return t.get(o).then(r)["catch"](a)}function f(){function r(t){return t.data.mails}function a(t){return t}var o=n.getDepartmentId(),c=e.base_url+"mails/departments/"+o;return t.get(c).then(r)["catch"](a)}function m(n){function r(t){return t.data}function a(t){return t}var o=e.base_url+"mails/"+n.mail_id+"/actions";return t.post(o,n).then(r)["catch"](a)}function d(n){function r(t){return t.data}function a(t){return t}var o=e.base_url+"mails/"+n+"/actions";return t.get(o).then(r)["catch"](a)}function h(n){function r(t){return t.data}function a(t){return t}var o=e.base_url+"mails/"+n+"/attachments";return t.get(o).then(r)["catch"](a)}function g(r){function a(t){return t.data}function o(t){return t}var c=e.base_url+"mails/"+r.id;return r.created_by=n.getUserId(),r.uname=n.getUserName(),t.put(c,r).then(a)["catch"](o)}function v(r,a,o){function c(t){return t.data}function i(t){return t}var l=e.base_url+"mails/"+o,s={key:r,value:a,uname:n.getUserName(),created_by:n.getUserId()};return t.put(l,s).then(c)["catch"](i)}function _(r,a){function o(t){return t.data}function c(t){return t}var i=e.base_url+"mails/"+a,l={created_by:n.getUserId(),uname:n.getUserName(),follow_up:r};return t.put(i,l).then(o)["catch"](c)}function w(r){var a=n.getDepartmentId(),o=e.base_url+"search/"+a+"/"+r;return t.get(o).then(function(t){return t.data})["catch"](function(t){return t})}var b={getMailsByDepartmentId:f,getMail:p,createMail:l,initMail:u,getActions:d,getAttachments:h,createAction:m,uploadFile:a,updateMail:g,getMailsForFollowup:i,followUp:_,initFormCtrls:o,initPanels:c,update:v,customDate:s,search:w};return b}angular.module("intranet.apps.mail").service("mailService",t),t.$inject=["$http","API_URLS","loginService","Upload"]}(),function(){"use strict";function t(t,e,n,r){function a(e){var a={feature_title:e,user_id:r.getUserId()};t.post(n.URL+"tracking/features",a)}function o(t){e.path("/"+t)}function c(){function e(t){return t.data}function n(t){return t}return t.get("/api/v1/auth/user").then(e)["catch"](n)}function i(e){function n(t){return t.data.posts}function r(t){return t}return t.get(u+"/get_category_posts?slug="+e).then(n)["catch"](r)}function l(e){function n(t){return t.data.post}function r(t){return t}return t.get(u+"/get_post?id="+e).then(n)["catch"](r)}function s(e){function n(t){return t.data.post}function r(t){return t}return t.get(u+"/get_post/?slug="+e).then(n)["catch"](r)}var u="/wordpress/api",p={goTo:o,getPostBySlug:s,getPostsByCategory:i,getPostById:l,isAuth:c,track:a};return p}angular.module("shared-services",[]).factory("sharedServices",t),t.$inject=["$http","$location","CONSTANTS","loginService"]}(),function(){"use strict";function t(t,e){function n(){return t.get(API_URL+"transactions").then(function(t){return t.data})["catch"](function(t){return t})}function r(e){return t.get(API_URL+"transactions/"+e).then(function(t){return t.data})["catch"](function(t){return t})}function a(e,n){var r={value:e},a=API_URL+"transactions/"+n;return t.put(a,r).then(function(t){return t.data})["catch"](function(t){return t})}function o(e){return t.post(API_URL+"transactions",e).then(function(t){return t.data})["catch"](function(t){return t})}function c(n){return t.get(e.URL+"transactions/councils/"+n).then(l)["catch"](s)}function i(){return t.get(e.URL+"transactions/balances").then(l)["catch"](s)}function l(t){return t.data}function s(t){return t}var u={getTransaction:r,getTransactions:n,updateTransaction:a,createTransaction:o,getBalances:i,getTransactionsByCouncilId:c};return u}angular.module("trans").service("transService",t),t.$inject=["$http","CONSTANTS"]}();